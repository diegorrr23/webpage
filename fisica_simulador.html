<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulador ‚Äì F√≠sica Interactiva</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="icon" href="parabola.png" class="icon">
  <style>
    :root{
      --bg:#0b1020; --card:#121733; --ink:#e7eaf6; --muted:#a9b0d6; --brand:#7c9cff; --accent:#5fe1a5;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }

    * {box-sizing:border-box}
    html, body {height:100%; margin:0}
    body {
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto; 
      color:var(--ink); 
      background:radial-gradient(60% 100% at 70% 10%, #1a2148 0%, #0b1020 60%);
      background-attachment: fixed;
    }

    header {
      backdrop-filter: blur(8px); 
      background-color:rgba(11,16,32,.6); 
      border-bottom:1px solid rgba(255,255,255,.06);
      padding: 18px 20px;
    }

    nav {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--ink);
    }

    .logo img {
      width: 32px;
      height: 32px;
    }

    .logo span {
      font-weight: 800;
      font-size: 18px;
    }

    .nav-links {
      display: flex;
      gap: 12px;
    }

    .nav-links a {
      padding: 8px 16px;
      border-radius: 12px;
      color: var(--ink);
      text-decoration: none;
      transition: all 0.3s;
    }

    .nav-links a:hover, .nav-links a.active {
      background: rgba(124, 156, 255, 0.2);
      color: var(--brand);
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    .page-title {
      font-size: 36px;
      font-weight: 800;
      margin-bottom: 10px;
    }

    .page-subtitle {
      color: var(--muted);
      font-size: 16px;
      margin-bottom: 30px;
    }

    .sim-card {
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 30px;
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 20px;
    }

    @media (max-width: 800px) {
      .controls { grid-template-columns: 1fr; }
    }

    .control {
      padding: 18px;
      border-radius: 16px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.06);
    }

    .control label {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }

    input[type=range] {
      width: 100%;
      margin-top: 8px;
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 20px 0;
    }

    .metric {
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 14px;
      padding: 16px;
      text-align: center;
    }

    .metric-label {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .metric-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--accent);
    }

    .canvas-wrap {
      margin: 20px 0;
      background: #0a0f22;
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 18px;
      overflow: hidden;
    }

    .canvas-wrap canvas {
      width: 100%;
      display: block;
    }

    .toolbar {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .btn {
      background: linear-gradient(135deg, var(--brand), #6fd1ff);
      border: none;
      color: #0b1020;
      padding: 12px 20px;
      border-radius: 16px;
      font-weight: 700;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    .btn.secondary {
      background: transparent;
      color: var(--ink);
      border: 1px solid rgba(255,255,255,.18);
    }

    .footer {
      color: var(--muted);
      text-align: center;
      padding: 30px 0;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="index.html" class="logo">
        <img src="parabola.png" alt="Logo">
        <span>F√≠sica Interactiva</span>
      </a>
      <div class="nav-links">
        <a href="index.html">üè† Inicio</a>
        <a href="fisica_simulador.html" class="active">üöÄ Simulador</a>
        <a href="fisica_teoria.html">üìö Teor√≠a</a>
        <a href="fisica_evaluacion.html">‚úèÔ∏è Evaluaci√≥n</a>
      </div>
    </nav>
  </header>

  <div class="container">
    <h1 class="page-title">üöÄ Simulador Interactivo</h1>
    <p class="page-subtitle">Como dato interesante: En el Ecuador la gravedad efectiva es ~<b>9.78 m/s¬≤</b>; en Quito (~2850 m) disminuye un poco por su posicion geografica en la mitad del mundo.</p>

    <div class="sim-card">
      <div class="controls">
        <div class="control">
          <label>Velocidad inicial (m/s) <span id="v0Out">20</span></label>
          <input type="range" id="v0" min="5" max="60" step="1" value="20">
        </div>
        <div class="control">
          <label>√Ångulo (¬∞) <span id="angOut">45</span></label>
          <input type="range" id="ang" min="5" max="85" step="1" value="45">
        </div>
        <div class="control">
          <label>Gravedad (m/s¬≤) <span id="gOut">9.80</span></label>
          <input type="range" id="grav" min="8.5" max="10.5" step="0.01" value="9.80">
        </div>
      </div>

      <div class="metrics">
        <div class="metric">
          <div class="metric-label">Tiempo de vuelo</div>
          <div class="metric-value"><span id="tVuelo">‚Äî</span> s</div>
        </div>
        <div class="metric">
          <div class="metric-label">Altura m√°xima</div>
          <div class="metric-value"><span id="hMax">‚Äî</span> m</div>
        </div>
        <div class="metric">
          <div class="metric-label">Alcance</div>
          <div class="metric-value"><span id="alcance">‚Äî</span> m</div>
        </div>
      </div>

      <div class="canvas-wrap">
        <canvas id="scene" width="960" height="420"></canvas>
      </div>

      <div class="toolbar">
        <button class="btn" id="btnPlay">‚ñ∂ Iniciar</button>
        <button class="btn secondary" id="btnPause">‚è∏ Pausar</button>
        <button class="btn secondary" id="btnReset">‚Ü∫ Reiniciar</button>
      </div>
    </div>

    <div class="footer">Todos los derechos reservados ¬© ¬∑ Autores: Diego Ramos, Ashley Reyes y Jordan Vite ¬∑ 2025</div>
  </div>

  <script>
    const v0=document.getElementById('v0');
    const ang=document.getElementById('ang');
    const grav=document.getElementById('grav');
    const v0Out=document.getElementById('v0Out');
    const angOut=document.getElementById('angOut');
    const gOut=document.getElementById('gOut');
    const tVuelo=document.getElementById('tVuelo');
    const hMax=document.getElementById('hMax');
    const alcance=document.getElementById('alcance');
    const scene=document.getElementById('scene');
    const ctx=scene.getContext('2d');

    let running=false, time=0;

    function fmt(n){return (Math.round(n*100)/100).toFixed(2)}

    function metrics(){
      const v=+v0.value, a=+ang.value*Math.PI/180, g=+grav.value;
      const v0x=v*Math.cos(a), v0y=v*Math.sin(a);
      const T=2*v0y/g; const H=v0y*v0y/(2*g); const R=v*v*Math.sin(2*a)/g;
      tVuelo.textContent=fmt(T); hMax.textContent=fmt(H); alcance.textContent=fmt(R);
      return {v,a,g,v0x,v0y,T,H,R};
    }

    function drawScene(){
      const {v,a,g,v0x,v0y,T,H,R}=metrics();
      const pad=40; const W=scene.width, Hc=scene.height;
      const scaleX=(W-2*pad)/(R*1.05 || 1);
      const scaleY=(Hc-2*pad)/(Math.max(H,1)*1.4);

      const grd=ctx.createLinearGradient(0,0,0,Hc); 
      grd.addColorStop(0,'#0f1736'); 
      grd.addColorStop(1,'#0b1020');
      ctx.fillStyle=grd; 
      ctx.fillRect(0,0,W,Hc);

      ctx.strokeStyle='rgba(255,255,255,.15)'; 
      ctx.lineWidth=1.5; 
      ctx.beginPath();
      ctx.moveTo(pad,Hc-pad); 
      ctx.lineTo(W-pad,Hc-pad);
      ctx.moveTo(pad,Hc-pad); 
      ctx.lineTo(pad,pad);
      ctx.stroke();

      ctx.fillStyle='rgba(255,255,255,.35)'; 
      ctx.font='12px Inter';
      for(let i=0;i<=5;i++){
        const x=pad + (i/5)*(W-2*pad);
        ctx.fillText(fmt((i/5)*R), x-8, Hc-pad+16);
      }
      for(let i=0;i<=4;i++){
        const y=Hc - (pad + (i/4)*(Hc-2*pad));
        ctx.fillText(fmt((i/4)*Math.max(H,1)), pad-30, y+4);
      }

      ctx.strokeStyle='#7c9cff'; 
      ctx.lineWidth=2.5; 
      ctx.beginPath();
      const steps=180; 
      for(let i=0;i<=steps;i++){
        const t=i/steps*T; 
        const x=pad + v0x*t*scaleX; 
        const y=Hc-pad - (v0y*t - 0.5*g*t*t)*scaleY;
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      } 
      ctx.stroke();

      if(running){
        const t=Math.min(time,T); 
        const x=pad + v0x*t*scaleX; 
        const y=Hc-pad - (v0y*t - 0.5*g*t*t)*scaleY;
        ctx.fillStyle='#5fe1a5'; 
        ctx.beginPath(); 
        ctx.arc(x,y,6,0,Math.PI*2); 
        ctx.fill();
        time += 1/60;
        if(time> T){ running=false; }
      }
    }

    function syncLabels(){ 
      v0Out.textContent=v0.value; 
      angOut.textContent=ang.value; 
      gOut.textContent=(+grav.value).toFixed(2); 
    }

    function loop(){
      drawScene(); 
      requestAnimationFrame(loop);
    }

    [v0,ang,grav].forEach(el=> el.addEventListener('input', ()=>{ 
      syncLabels(); 
      if(!running) time=0; 
      drawScene(); 
    }));
    
    document.getElementById('btnPlay').addEventListener('click', ()=>{ 
      running=true; 
      time=0; 
    });
    
    document.getElementById('btnPause').addEventListener('click', ()=>{ 
      running=false; 
    });
    
    document.getElementById('btnReset').addEventListener('click', ()=>{ 
      running=false; 
      time=0; 
      drawScene(); 
    });

    syncLabels(); 
    metrics(); 
    drawScene(); 
    loop();
  </script>
</body>
</html>
